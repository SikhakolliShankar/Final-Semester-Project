{% extends 'layout.html' %}
{% block body %}
<div class="container py-4">
  {% if member %}
  <div class="row">
    <div class="col-12">
      <!-- Header card with member name and edit button -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center">
            <div>
              <h2 class="mb-2"><b>Member Details</b></h2>
              <h4 class="text-primary">{{member.name}}</h4>
            </div>
            <div class="mt-3 mt-md-0">
              <a href="/edit_member/{{member.id}}" class="btn btn-primary">
                <i class="fas fa-edit me-2"></i>Edit
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Member info card -->
      <div class="card shadow-sm">
        <div class="card-header bg-light">
          <h5 class="mb-0">Member Information</h5>
        </div>
        <div class="card-body p-0">
          <!-- Table for medium and larger screens -->
          <div class="table-responsive d-none d-md-block">
            <table class="table table-hover mb-0">
              <thead class="table-light">
                <tr>
                  <th>Member ID</th>
                  <th>Name</th>
                  <th>Email ID</th>
                  <th>Registered On</th>
                  <th>Outstanding Debt</th>
                  <th>Amount Spent</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{member.id}}</td>
                  <td>{{member.name}}</td>
                  <td>{{member.email}}</td>
                  <td>{{member.registered_on}}</td>
                  <td>{{member.outstanding_debt}}</td>
                  <td>{{member.amount_spent}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- Card layout for small screens -->
          <div class="d-md-none">
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <div class="d-flex justify-content-between">
                  <strong>Member ID</strong>
                  <span>{{member.id}}</span>
                </div>
              </li>
              <li class="list-group-item">
                <div class="d-flex justify-content-between">
                  <strong>Name</strong>
                  <span>{{member.name}}</span>
                </div>
              </li>
              <li class="list-group-item">
                <div class="d-flex justify-content-between">
                  <strong>Email ID</strong>
                  <span>{{member.email}}</span>
                </div>
              </li>
              <li class="list-group-item">
                <div class="d-flex justify-content-between">
                  <strong>Registered On</strong>
                  <span>{{member.registered_on}}</span>
                </div>
              </li>
              <li class="list-group-item">
                <div class="d-flex justify-content-between">
                  <strong>Outstanding Debt</strong>
                  <span>{{member.outstanding_debt}}</span>
                </div>
              </li>
              <li class="list-group-item">
                <div class="d-flex justify-content-between">
                  <strong>Amount Spent</strong>
                  <span>{{member.amount_spent}}</span>
                </div>
              </li>
            </ul>
          </div>
        </div>
        
        <div class="card-footer bg-light">
          <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center">
            <div class="mb-3 mb-md-0">
              <span class="badge {% if member.outstanding_debt > 0 %}bg-warning{% else %}bg-success{% endif %} me-2">
                {{member.outstanding_debt}}
              </span>
              <small class="text-muted">Outstanding Balance</small>
            </div>
            <!-- <div>
              <a href="#" class="btn btn-sm btn-outline-secondary me-2">View History</a>
              <a href="#" class="btn btn-sm btn-outline-primary">Issue Book</a>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
  {% else %}
  <div class="alert alert-warning">
    <h4>No member details found</h4>
    <p>The requested member information is not available.</p>
  </div>
  {% endif %}
</div>
{% endblock %}