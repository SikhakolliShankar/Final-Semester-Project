{% extends 'layout.html' %}
{% block body %}
<div class="container py-4">
  <div class="row">
    <div class="col-12">
      {% if book %}
      <!-- Header section with title and edit button -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-3">
            <div>
              <h2 class="mb-2"><b>Book Details</b></h2>
              <h4 class="text-primary mb-1">{{book.title}}</h4>
              <p class="text-muted"><i>by {{book.author}}</i></p>
            </div>
            <div class="mt-3 mt-md-0">
              <a href="{{url_for('edit_book', id=book.id)}}" class="btn btn-primary">
                <i class="fas fa-edit me-2"></i>Edit
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Book details card -->
      <div class="card shadow-sm">
        <div class="card-header bg-light">
          <h5 class="mb-0">Complete Information</h5>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-hover mb-0">
              <tbody>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">Book ID</td>
                  <td class="col-md-3 col-6">{{book.id}}</td>
                  <td class="col-md-3 col-6 fw-bold">Title</td>
                  <td class="col-md-3 col-6">{{book.title}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">Author(s)</td>
                  <td class="col-md-3 col-6">{{book.author}}</td>
                  <td class="col-md-3 col-6 fw-bold">Average Rating</td>
                  <td class="col-md-3 col-6">{{book.average_rating}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">ISBN</td>
                  <td class="col-md-3 col-6">{{book.isbn}}</td>
                  <td class="col-md-3 col-6 fw-bold">ISBN13</td>
                  <td class="col-md-3 col-6">{{book.isbn13}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">Language</td>
                  <td class="col-md-3 col-6">{{book.language_code}}</td>
                  <td class="col-md-3 col-6 fw-bold">No. of Pages</td>
                  <td class="col-md-3 col-6">{{book.num_pages}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">No. of Ratings</td>
                  <td class="col-md-3 col-6">{{book.ratings_count}}</td>
                  <td class="col-md-3 col-6 fw-bold">No. of Text Reviews</td>
                  <td class="col-md-3 col-6">{{book.text_reviews_count}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">Publication Date</td>
                  <td class="col-md-3 col-6">{{book.publication_date}}</td>
                  <td class="col-md-3 col-6 fw-bold">Publisher</td>
                  <td class="col-md-3 col-6">{{book.publisher}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">Total No. of Books</td>
                  <td class="col-md-3 col-6">{{book.total_quantity}}</td>
                  <td class="col-md-3 col-6 fw-bold">Books Available</td>
                  <td class="col-md-3 col-6">{{book.available_quantity}}</td>
                </tr>
                <tr class="row mx-0">
                  <td class="col-md-3 col-6 fw-bold">Rented Count</td>
                  <td class="col-md-3 col-6">{{book.rented_count}}</td>
                  <td class="col-md-3 col-6 fw-bold">Genre</td>
                  <td class="col-md-3 col-6">{{book.genre}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="card-footer bg-light">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <span class="badge bg-primary me-2">{{book.available_quantity}}/{{book.total_quantity}}</span>
              <small class="text-muted">Books Available</small>
            </div>
            <!-- <div>
              <a href="#" class="btn btn-sm btn-outline-secondary me-2">View History</a>
              <a href="#" class="btn btn-sm btn-outline-primary">Issue Book</a>
            </div> -->
          </div>
        </div>
      </div>
      {% else %}
      <div class="alert alert-warning">
        <h4>No book details found</h4>
        <p>The requested book information is not available.</p>
      </div>
      {% endif %}
    </div>
  </div>
</div>

<style>
  /* Base styles for the table */
  .table td {
    padding: 12px 15px !important;
    vertical-align: middle;
  }
  
  /* Creating alternating row backgrounds for better readability */
  .table tr:nth-child(even) {
    background-color: rgba(0, 0, 0, 0.02);
  }
  
  /* Making sure responsive behavior works correctly */
  @media (max-width: 767.98px) {
    .table td.col-6 {
      padding: 10px 15px !important;
    }
    
    /* Add border between label-value pairs on mobile */
    .table tr.row {
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    /* Add subtle color to labels for better distinction on mobile */
    .table td.fw-bold {
      background-color: rgba(0, 0, 0, 0.02);
    }
  }
</style>
{% endblock %}